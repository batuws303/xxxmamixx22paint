-- Settings --
local color = Color3.fromRGB(255,255,255)

-- Services --
local player = game.Players.LocalPlayer
local mouse = player:GetMouse()
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

-- Folders / Highlights --
local provincesFolder = Instance.new("Model", workspace)
local highlight = Instance.new("Highlight")
highlight.FillColor = color
highlight.FillTransparency = 0.8
highlight.Parent = workspace
highlight.Adornee = provincesFolder

-- UI --
local UI = Instance.new("ScreenGui", player.PlayerGui)
local UIHolder = Instance.new("Frame", UI)
UIHolder.AnchorPoint = Vector2.new(0.5,0.5)
UIHolder.BackgroundTransparency = 1
UIHolder.Position = UDim2.new(0.5,0,0.5,0)
UIHolder.Size = UDim2.new(0,0,0,0)
Instance.new("UIAspectRatioConstraint", UIHolder)
local mainFrame = Instance.new("Frame", UIHolder)
mainFrame.BackgroundColor3 = Color3.fromRGB(33,33,42)
mainFrame.AnchorPoint = Vector2.new(0.5,0.5)
mainFrame.Position = UDim2.new(0.5,0,0.5,0)
mainFrame.Size = UDim2.new(0.5,0,0.276,0)
mainFrame.Rotation = 359

-- Top bar and labels --
local topBar = Instance.new("Frame", mainFrame)
topBar.BackgroundColor3 = Color3.fromRGB(49,49,64)
topBar.Size = UDim2.new(1,0,0.14,0)
local panelTitle = Instance.new("TextLabel", topBar)
panelTitle.AnchorPoint = Vector2.new(0,0.5)
panelTitle.BackgroundTransparency = 1
panelTitle.Position = UDim2.new(0.02,0,0.5,0)
panelTitle.Size = UDim2.new(1,0,0.5,0)
panelTitle.RichText = true
panelTitle.Text = '<b>Paint Admin Panel</b><font size="6"> PRO</font>'
panelTitle.TextScaled = true
panelTitle.TextColor3 = Color3.fromRGB(255,255,255)
panelTitle.TextXAlignment = Enum.TextXAlignment.Left

local pss = Instance.new("TextLabel", topBar)
pss.Text = "0 paint/second"
pss.AnchorPoint = Vector2.new(0,0.5)
pss.Size = UDim2.new(0.974,0,0.5,0)
pss.Position = UDim2.new(0,0,0.5,0)
pss.TextColor3 = Color3.fromRGB(255,255,255)
pss.BackgroundTransparency = 1
pss.TextScaled = true
pss.TextXAlignment = Enum.TextXAlignment.Right

-- Scroll frame for buttons --
local scrollFrame = Instance.new("ScrollingFrame", mainFrame)
scrollFrame.BackgroundTransparency = 1
scrollFrame.Position = UDim2.new(0,0,0.14,0)
scrollFrame.Size = UDim2.new(1,0,0.86,0)
scrollFrame.ScrollBarThickness = 6
local listlayout = Instance.new("UIListLayout", scrollFrame)
listlayout.Padding = UDim.new(0,10)
Instance.new("UIPadding", scrollFrame).PaddingTop = UDim.new(0,10)

-- Sounds --
local sound = Instance.new("Sound", workspace)
sound.SoundId = "rbxassetid://4612386227"
local changecolor = Instance.new("Sound", workspace)
changecolor.SoundId = "rbxassetid://4612383790"
local sound2 = Instance.new("Sound", workspace)
sound2.SoundId = "rbxassetid://7486747911"
sound2.PlaybackSpeed = 2
local provinceSound = Instance.new("Sound", workspace)
provinceSound.SoundId = "rbxassetid://5694665239"

-- States --
local provinces = {}
local provincespersecond = 0
local pps = 0
local selectColorMode = false
local removeProvincesMode = false
local selectProvincesMode = false
local safeMode = false
local newpaint = false
local painting = true
local keepTerColor = false

-- Buttons --
local function createButton(name, parent, text)
	local frame = Instance.new("Frame", parent)
	frame.Size = UDim2.new(1,0,0.075,0)
	frame.BackgroundColor3 = Color3.fromRGB(49,49,64)
	local label = Instance.new("TextLabel", frame)
	label.BackgroundTransparency = 1
	label.Position = UDim2.new(0.02,0,0.2,0)
	label.Size = UDim2.new(0.6,0,0.6,0)
	label.Text = text
	label.TextScaled = true
	label.TextColor3 = Color3.fromRGB(255,255,255)
	label.Font = Enum.Font.SourceSansBold
	local btn = Instance.new("TextButton", frame)
	btn.Size = UDim2.new(0.35,0,1,0)
	btn.Position = UDim2.new(0.65,0,0,0)
	btn.Text = name
	btn.BackgroundColor3 = Color3.fromRGB(53,227,153)
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.TextScaled = true
	btn.AutoButtonColor = false
	return btn
end

-- Example buttons
local togglePaintButton = createButton("Toggle Paint", scrollFrame, "Toggle Paint")
local fastPaintButton = createButton("Fast Paint", scrollFrame, "Fast Paint")
local safeModeButton = createButton("Safe Mode", scrollFrame, "Safe Mode")
local keepColorButton = createButton("Keep Territory Color", scrollFrame, "Keep Territory Color")

-- Painting function
local function paintProvinceLoop(province)
	coroutine.wrap(function()
		while painting and province and province.Parent do
			if player.Character:FindFirstChild("PaintBucket") then
				local c = keepTerColor and color or color
				local args = {"PaintPart",{Part=province,Color=c},"Peace"}
				provincespersecond += 1
				player.Character.PaintBucket.Remotes.ServerControls:InvokeServer(unpack(args))
			end
			task.wait(newpaint and 0 or (safeMode and 1 or 0.05))
		end
	end)()
end

-- Mouse click
mouse.Button1Down:Connect(function()
	if mouse.Target and mouse.Target.Name=="Province" then
		if selectColorMode then
			color = mouse.Target.Color
			selectColorMode = false
			changecolor:Play()
		end
		if selectProvincesMode then
			provinceSound:Play()
			paintProvinceLoop(mouse.Target)
		end
	end
end)

-- FPS düşse bile boyama hızı sabit
task.spawn(function()
	while true do
		task.wait(1)
		pss.Text = provincespersecond.." paint/second"
		provincespersecond = 0
	end
end)
